{% extends "base.html" %}
{% block content %}

<div class="container-fluid">


  <div class="row mb-5">
    <div class="col-md-4">
      <img width="100%" src="{{ url_for('static', filename='images/programs/rstudio.png') }}">
    </div>
    <div class="col-md-2 my-auto text-center">
      <h2 id="rstudio_state">{% if rstudio_running %}Running{% else %}Inactive{% endif %}</h2>
    </div>
    <div class="col-md-3 my-auto">
      {% if rstudio_running %}
      <a href="{{ url_for('launch_program', program='rstudio') }}" target="_rstudio" class="btn btn-primary btn-lg">Open RStudio</a>
      {% else %}
      <button id="startrstudio" class="btn btn-primary btn-lg">Start RStudio</a>
      {% endif %}
    </div>
      <div class="col-md-3 my-auto">
      {% if rstudio_running %}
      <a id="stoprstudio" href="{{ url_for('stop_program', program='rstudio') }}" class="btn btn-danger btn-lg">Stop RStudio</a>
      {% else %}
      <label for="rstudiomemory" class="form-label">Use <span id="selectedrstudiomemory">20</span> GB Memory</label>
      <input type="range" class="form-range" id="rstudiomemory" min="10" max="80" step="1" value="20">
      {% endif %}
    </div>
  </div>

  <div class="row mb-5">
    <div class="col-md-4 my-auto">
      <img width="100%" src="{{ url_for('static', filename='images/programs/jupyterlab.svg') }}">
    </div>
    <div class="col-md-2 my-auto text-center">
      <h2 id="jupyterlab_state">{% if jupyterlab_running %}Running{% else %}Inactive{% endif %}</h2>
    </div>
    <div class="col-md-3 my-auto">
      {% if jupyterlab_running %}
      <a href="{{ url_for('launch_program', program='jupyterlab') }}" target="_jupyterlab" class="btn btn-primary btn-lg">Open Jupyterlab</a>
      {% else %}
      <button id="startjupyterlab" class="btn btn-primary btn-lg">Start Jupyterlab</a>
      {% endif %}
    </div>
      <div class="col-md-3 my-auto">
      {% if jupyterlab_running %}
      <a id="stopjupyterlab" href="{{ url_for('stop_program', program='jupyterlab') }}" class="btn btn-danger btn-lg">Stop Jupyterlab</a>
      {% else %}
      <label for="jupyterlabmemory" class="form-label">Use <span id="selectedjupyterlabmemory">20</span> GB Memory</label>
      <input type="range" class="form-range" id="jupyterlabmemory" min="10" max="80" step="1" value="20">
      {% endif %}
    </div>
  </div>


  <div class="row mb-5">
    <div class="col-md-4 my-auto">
      <img width="100%" src="{{ url_for('static', filename='images/programs/filebrowser.svg') }}">
    </div>
    <div class="col-md-2 my-auto text-center">
      <h2 id="filebrowser_state">{% if filebrowser_running %}Running{% else %}Inactive{% endif %}</h2>
    </div>
    <div class="col-md-3 my-auto">
      {% if filebrowser_running %}
      <a href="{{ url_for('launch_program', program='filebrowser') }}" target="_filebrowser" class="btn btn-primary btn-lg">Open Filebrowser</a>
      {% else %}
      <button id="startfilebrowser" class="btn btn-primary btn-lg">Start Filebrowser</a>
      {% endif %}
    </div>
      <div class="col-md-3 my-auto">
      {% if filebrowser_running %}
      <a id="stopfilebrowser" href="{{ url_for('stop_program', program='filebrowser') }}" class="btn btn-danger btn-lg">Stop Filebrowser</a>
      {% else %}
      <label for="filebrowsershare" class="form-label">Browse which folder</label>
      <select id="filebrowsershare" class="form-select" aria-label="Browse which folder">
        <option selected>home</option>
        <option>group</option>
        <option>scratch</option>
      </select>
      {% endif %}
    </div>
  </div>

  <div class="row mb-5">
    <div class="col-md-4 my-auto">
      <img width="100%" src="{{ url_for('static', filename='images/programs/ollama.svg') }}">
    </div>
    <div class="col-md-2 my-auto text-center">
      <h2 id="ollama_state">{% if ollama_running %}Running{% else %}Inactive{% endif %}</h2>
    </div>
    <div class="col-md-3 my-auto">
      {% if ollama_running %}
      <button id="copyollamaurl" class="btn btn-primary btn-lg" onClick="(function(){
    navigator.clipboard.writeText('{{ ollama_url }}');
    return false;
})();return false;">Copy Ollama URL</button>
      {% else %}
      <button id="startollama" class="btn btn-primary btn-lg">Start Ollama</a>
      {% endif %}
    </div>
      <div class="col-md-3 my-auto">
      {% if ollama_running %}
      <a id="stopollama" href="{{ url_for('stop_program', program='ollama') }}" class="btn btn-danger btn-lg">Stop Ollama</a>
      {% endif %}
    </div>
  </div>

</div>


{% endblock %}

{% block js %}

<script src="{{ url_for('static', filename='js/programs.js') }}"></script>

{% endblock %}
